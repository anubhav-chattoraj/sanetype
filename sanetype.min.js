var sanetype=(function(g){function f(n,l,m){n.keys.push(l);n.values.push(m)}function d(n,m){for(var l=0;l<n.keys.length;l++){if(n.keys[l]===m){return n.values[l]}}return null}function b(p){var s=0,n=0,r,o,m,l,q;if(typeof p.selectionStart==="number"&&typeof p.selectionEnd==="number"){s=p.selectionStart;n=p.selectionEnd}else{p.focus();o=document.selection.createRange();if(o&&o.parentElement()===p){l=p.value.length;r=p.value.replace(/\r\n/g,"\n");m=p.createTextRange();m.moveToBookmark(o.getBookmark());q=p.createTextRange();q.collapse(false);if(m.compareEndPoints("StartToEnd",q)>-1){s=n=l}else{s=-m.moveStart("character",-l);s+=r.slice(0,s).split("\n").length-1;if(m.compareEndPoints("EndToEnd",q)>-1){n=l}else{n=-m.moveEnd("character",-l);n+=r.slice(0,n).split("\n").length-1}}}}return{start:s,end:n}}function i(o,n){var m=b(o);var p=m.start;var l=m.end;o.value=o.value.substring(0,p-n)+o.value.substring(l,o.value.length);o.selectionStart=p-n;o.selectionEnd=o.selectionStart}function k(n,o){var m=b(n);var p=m.start;var l=m.end;n.value=n.value.substring(0,p)+o+n.value.substring(l,n.value.length);n.selectionStart=p+o.length;n.selectionEnd=n.selectionStart}function j(q,m){if(q.altKey){return}var p=q.target;var l=String.fromCharCode(q.charCode);if(q.ctrlKey){g(p).data("buffer","");g(p).data("prevMatch","");return}if(typeof g(p).data("buffer")==="undefined"){g(p).data("buffer","")}if(typeof g(p).data("prevMatch")==="undefined"){g(p).data("prevMatch","")}if(typeof g(p).data("latin")==="undefined"){g(p).data("latin","false")}if(l==="q"){if(g(p).data("buffer")==="q"){q.preventDefault();g(p).data("buffer","");if(g(p).data("latin")==="true"){i(p,1);g(p).data("latin","false")}else{g(p).data("latin","true")}return}else{if(g(p).data("latin")==="true"){g(p).data("buffer","q");return}}}if(g(p).data("latin")==="true"){return}if(m.follow.indexOf(g(p).data("buffer"))===-1){g(p).data("buffer","")}g(p).data("buffer",g(p).data("buffer")+l);var o=m.get(g(p).data("buffer"));if(o===null&&m.follow.indexOf(g(p).data("buffer"))===-1){g(p).data("prevMatch","");g(p).data("buffer",l);o=m.get(l)}var n=g(p).data("prevMatch").length;if(o!==null||m.follow.indexOf(g(p).data("buffer"))!==-1){q.preventDefault();if(o!==null){i(p,n);k(p,o);if(m.follow.indexOf(g(p).data("buffer"))===-1){g(p).data("buffer","");g(p).data("prevMatch","")}else{g(p).data("prevMatch",o)}}}}function a(m){if(m.altKey){if(m.which===8){m.preventDefault();i(m.target,1)}else{var l=h.get(m.keyCode,m.shiftKey);if(l!==null){m.preventDefault();k(m.target,l)}}}}var h={keyCodes:[],unshifted:[],shifted:[],get:function(o,n){var l=h;for(var m=0;m<l.keyCodes.length;m++){if(l.keyCodes[m]===o){if(n){return l.shifted[m]}else{return l.unshifted[m]}}}return null},init:function(){var m=h;function l(n,o,p){m.keyCodes.push(n);m.unshifted.push(o);m.shifted.push(p)}l(13,"\n","\n");l(32," "," ");l(48,"0",")");l(49,"1","!");l(50,"2","@");l(51,"3","#");l(52,"4","$");l(53,"5","%");l(54,"6","^");l(55,"7","&");l(56,"8","*");l(57,"9","(");l(65,"a","A");l(66,"b","B");l(67,"c","C");l(68,"d","D");l(69,"e","E");l(70,"f","F");l(71,"g","G");l(72,"h","H");l(73,"i","I");l(74,"j","J");l(75,"k","K");l(76,"l","L");l(77,"m","M");l(78,"n","N");l(79,"o","O");l(80,"p","P");l(81,"q","Q");l(82,"r","R");l(83,"s","S");l(84,"t","T");l(85,"u","U");l(86,"v","V");l(87,"w","W");l(88,"x","X");l(89,"y","Y");l(90,"z","Z");l(59,";",":");l(61,"=","+");l(173,"-","_");l(186,";",":");l(187,"=","+");l(188,",","<");l(189,"-","_");l(190,".",">");l(191,"/","?");l(192,"`","~");l(219,"[","{");l(220,"\\","|");l(221,"]","}");l(222,"'",'"');l(96,"0","0");l(97,"1","1");l(98,"2","2");l(99,"3","3");l(100,"4","4");l(101,"5","5");l(102,"6","6");l(103,"7","7");l(104,"8","8");l(105,"9","9");l(106,"*","*");l(107,"+","+");l(109,"-","-");l(110,".",".");l(111,"/","/")}};var c=[];g(document).ready(function(){function l(n){if(c.indexOf(n)===-1){n.map={keys:[],values:[]};n.get=function(o){return d(n.map,o)};var m=function(o,p){f(n.map,o,p)};n.init(m);m("!","!");m("@","@");m("#","#");m("$","$");m("%","%");m("^","^");m("&","&");m("*","*");m("(","(");m(")",")");m("-","-");m("_","_");m("=","=");m("+","+");m("[","[");m("]","]");m("{","{");m("}","}");m("\\","\\");m("|","|");m(";",";");m(":",":");m("'","'");m('"','"');m(",",",");m(".",".");m("<","<");m(">",">");m("/","/");m("?","?");c.push(n)}}g("[data-sanetype]").each(function(n){var o=g(this).data("sanetype");var m=e[o];if(typeof m!=="undefined"){l(m);g(this).on("keydown",a);g(this).on("keypress",function(p){j(p,m)})}});h.init()});var e={};return{registerScript:function(m,l){e[m]=l}}})(jQuery);